# Requirements Document

## Introduction

JAWS FESTA 2025 思い出アップロードは、イベント参加者が撮影した画像を簡単に共有できるWebアプリケーションです。CDK初心者やTypeScript初心者でも理解しやすいシンプルな設計で、参加者の思い出を共有する機能を提供します。AWS CDKを使用してサーバーレス構成で実装し、段階的な機能拡張を可能にする設計とします。データの自動削除やセキュリティ対策はインフラレベルで対応し、アプリケーション機能はシンプルに保ちます。

## Requirements

### Requirement 1

**User Story:** イベント参加者として、スマートフォンで撮影した写真を簡単にアップロードしたい。そうすることで、他の参加者と思い出を共有できる。

#### Acceptance Criteria

1. WHEN ユーザーがWebサイトにアクセス THEN システムはレスポンシブなアップロード画面を表示する
2. WHEN ユーザーがカメラボタンをタップ THEN システムはスマートフォンのカメラを起動する
3. WHEN ユーザーがファイル選択ボタンをクリック THEN システムはファイル選択ダイアログを表示する
4. WHEN ユーザーが画像ファイルをドラッグ&ドロップ THEN システムは画像のプレビューを表示する
5. WHEN ユーザーが10MB以下のJPEG/PNG/HEIC画像をアップロード THEN システムは画像を正常に受け付ける
6. WHEN ユーザーが10MBを超える画像をアップロード THEN システムはエラーメッセージを表示する
7. WHEN ユーザーが対応していない形式の画像をアップロード THEN システムはエラーメッセージを表示する

### Requirement 2

**User Story:** イベント参加者として、アップロードする画像に名前とコメントを追加したい。そうすることで、より個人的な思い出として共有できる。

#### Acceptance Criteria

1. WHEN ユーザーがアップロード画面を表示 THEN システムは名前入力フィールド（任意）を表示する
2. WHEN ユーザーがアップロード画面を表示 THEN システムはコメント入力フィールド（任意）を表示する
3. WHEN ユーザーが名前を入力せずにアップロード THEN システムは「匿名」として処理する
4. WHEN ユーザーがコメントを入力せずにアップロード THEN システムは空のコメントとして処理する

### Requirement 3

**User Story:** イベント参加者として、アップロード前に確認項目をチェックしたい。そうすることで、適切な画像のみを共有し、トラブルを防げる。

#### Acceptance Criteria

1. WHEN ユーザーがアップロード画面を表示 THEN システムは動的に取得した確認項目のチェックボックス一覧を表示する
2. WHEN ユーザーがアップロードボタンをクリック AND 確認項目が未チェック THEN システムはアップロードを実行せずエラーメッセージを表示する
3. WHEN ユーザーが全ての確認項目をチェック AND アップロードボタンをクリック THEN システムはアップロードを実行する
4. WHEN システムが起動時 THEN 確認項目の設定をオブジェクト（JSON等）から動的に読み込む
5. WHEN 確認項目の設定が変更される THEN システムは再起動なしで新しい確認項目を反映する

### Requirement 4

**User Story:** イベント参加者として、他の参加者がアップロードした画像を閲覧したい。そうすることで、イベントの様々な視点からの思い出を楽しめる。

#### Acceptance Criteria

1. WHEN ユーザーが画像一覧ページにアクセス THEN システムは新着順で画像を表示する
2. WHEN ユーザーがモバイルデバイスで閲覧 THEN システムはレスポンシブなレイアウトで表示する
3. WHEN ユーザーがPCで閲覧 THEN システムはデフォルトでマソンリーレイアウト（グリッドレイアウト）で画像を表示する
4. WHEN ユーザーが表示切り替えボタンをクリック THEN システムはカードグリッドレイアウト（統一サイズ）に切り替える
5. WHEN ユーザーが再度表示切り替えボタンをクリック THEN システムはマソンリーレイアウトに戻る
6. WHEN 画像が存在しない場合 THEN システムは「まだ画像がありません」メッセージを表示する
7. WHEN 画像の読み込みに失敗 THEN システムはエラーメッセージを表示する

### Requirement 5

**User Story:** 開発者として、CDK初心者でも理解しやすいシンプルなインフラ構成にしたい。そうすることで、学習目的でも活用でき、メンテナンスしやすいシステムになる。

#### Acceptance Criteria

1. WHEN CDKスタックをデプロイ THEN システムは1つのStackで全リソースを管理する
2. WHEN リソースを作成 THEN システムは自動的にユニークな名前を生成する
3. WHEN Lambda関数を作成 THEN システムは必要最小限の権限のみを付与する
4. WHEN API Gatewayを設定 THEN システムは基本的なCORS設定を適用する
5. WHEN エラーが発生 THEN システムはCloudWatchにログを出力する